---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "wallix-bastion Provider"
description: |-
  The Wallix Bastion provider allows Terraform to manage Wallix Bastion resources.
---

# wallix-bastion Provider

The Wallix Bastion provider allows Terraform to manage Wallix Bastion resources including users, devices, applications, authorizations, and security policies.

## Example Usage

```terraform
# Configure the Wallix Bastion Provider
terraform {
  required_providers {
    wallix-bastion = {
      source  = "wallix/wallix-bastion"
      version = "~> 0.14"
    }
  }
}

# Provider configuration with username/password
provider "wallix-bastion" {
  ip       = "192.168.1.100"
  user     = "admin"
  password = "admin_password"
  port     = 443
}

# Provider configuration with API token (recommended)
provider "wallix-bastion" {
  ip    = "bastion.company.com"
  user  = "api_user"
  token = "your-api-token"
}

# Provider configuration with environment variables
provider "wallix-bastion" {
  # ip       = set via WALLIX_BASTION_HOST
  # user     = set via WALLIX_BASTION_USER  
  # password = set via WALLIX_BASTION_PASSWORD
  # token    = set via WALLIX_BASTION_TOKEN
  # port     = set via WALLIX_BASTION_PORT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `ip` (String)
- `user` (String)

### Optional

- `api_version` (String)
- `password` (String)
- `port` (Number)
- `token` (String)

## Authentication Methods

### Username/Password Authentication

The most common authentication method using Bastion credentials:

```terraform
provider "wallix-bastion" {
  ip       = "bastion.company.com"
  user     = "terraform_user"
  password = "secure_password"
}
```

### API Token Authentication (Recommended)

More secure authentication using API tokens:

```terraform
provider "wallix-bastion" {
  ip    = "bastion.company.com"
  user  = "api_user"
  token = "your-api-token-here"
}
```

### Environment Variables

Configure using environment variables for better security:

```bash
export WALLIX_BASTION_HOST="bastion.company.com"
export WALLIX_BASTION_USER="terraform_user"
export WALLIX_BASTION_PASSWORD="secure_password"
# OR
export WALLIX_BASTION_TOKEN="your-api-token"
export WALLIX_BASTION_PORT="443"
export WALLIX_BASTION_API_VERSION="v3.12"
```

## Configuration Reference

### Required Arguments

- **ip**: Bastion server IP address or hostname
- **user**: Username for Bastion authentication

### Authentication Arguments

Choose one authentication method:

- **password**: Password for username/password authentication
- **token**: API token for token-based authentication

### Optional Arguments

- **port**: HTTPS port for Bastion API (default: 443)
- **api_version**: API version to use (default: "v3.8", also supports "v3.12")

## API Version Support

The provider supports multiple Bastion API versions:

- **v3.8**: Default version, widely compatible
- **v3.12**: Newer version with additional features

```terraform
provider "wallix-bastion" {
  ip          = "bastion.company.com"
  user        = "admin"
  password    = "password"
  api_version = "v3.12"
}
```

## Security Best Practices

### Use API Tokens

Create dedicated API tokens instead of using admin passwords:

1. Log into Bastion Web UI
2. Go to Users â†’ API Keys
3. Generate a new API token
4. Use the token in provider configuration

### Dedicated Service Account

Create a dedicated user account for Terraform:

1. Create a user with minimal required permissions
2. Assign appropriate profile (avoid admin if possible)
3. Use this account for Terraform operations

### Environment Variables

Store sensitive information in environment variables:

```bash
# In your shell or CI/CD environment
export WALLIX_BASTION_HOST="bastion.company.com"
export WALLIX_BASTION_USER="terraform_svc"
export WALLIX_BASTION_TOKEN="token_here"
```

### Network Security

- Use HTTPS (port 443) for all connections
- Ensure Terraform host can reach Bastion API
- Consider firewall rules for Terraform access

## Resource Overview

The provider supports comprehensive Bastion resource management:

### Core Resources

- **Users & Groups**: `wallix-bastion_user`, `wallix-bastion_usergroup`
- **Devices & Services**: `wallix-bastion_device`, `wallix-bastion_device_service`
- **Applications**: `wallix-bastion_application`
- **Domains**: `wallix-bastion_domain`, `wallix-bastion_device_localdomain`

### Security & Access

- **Authorizations**: `wallix-bastion_authorization`
- **Target Groups**: `wallix-bastion_targetgroup`
- **Connection Policies**: `wallix-bastion_connection_policy`
- **Timeframes**: `wallix-bastion_timeframe`

### Authentication

- **External Auth**: `wallix-bastion_externalauth_*` (LDAP, SAML, etc.)
- **Auth Domains**: `wallix-bastion_authdomain_*` (AD, LDAP, SAML)
- **X509 Configuration**: `wallix-bastion_config_x509`

### Data Sources

- **Version Info**: `wallix-bastion_version`
- **Domain Info**: `wallix-bastion_domain`
- **Configuration**: `wallix-bastion_configoption`

## Compatibility Notes

### Supported Bastion Versions

- Bastion 8.0+: Basic functionality
- Bastion 9.0+: Enhanced features
- Bastion 10.0+: Full feature support

### Deprecated Features

From version 0.14.0, support for API versions v3.3 and v3.6 has been removed.
If you need these versions, use provider version 0.13.0 and consider upgrading your Bastion.

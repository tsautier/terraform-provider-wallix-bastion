---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "wallix-bastion_cluster Resource - terraform-provider-wallix-bastion"
subcategory: ""
description: |-
    
---

# wallix-bastion_cluster (Resource)

Provides a global cluster resource.

## Example Usage

```terraform
# Basic cluster with interactive logins
resource "wallix-bastion_cluster" "web_cluster" {
  cluster_name = "web-servers"
  description  = "Production web servers cluster"
  
  interactive_logins = [
    "web01:RDP",
    "web02:RDP",
    "web03:SSH"
  ]
}

# Cluster with specific accounts
resource "wallix-bastion_cluster" "db_cluster" {
  cluster_name = "database-servers"
  description  = "Database servers with specific accounts"
  
  accounts = [
    "admin@corp.local:db01:SSH",
    "admin@corp.local:db02:SSH",
    "oracle@corp.local:db01:ORACLE",
    "oracle@corp.local:db02:ORACLE"
  ]
}

# Cluster with account mappings
resource "wallix-bastion_cluster" "app_cluster" {
  cluster_name = "application-servers"
  description  = "Application servers with mapped accounts"
  
  account_mappings = [
    "app01:HTTP",
    "app02:HTTP",
    "app03:TOMCAT"
  ]
}

# Complex cluster with multiple target types
resource "wallix-bastion_cluster" "mixed_cluster" {
  cluster_name = "mixed-environment"
  description  = "Mixed environment with various access methods"
  
  # Direct account access
  accounts = [
    "admin@local:server01:SSH",
    "administrator@local:server02:RDP"
  ]
  
  # Mapped account access
  account_mappings = [
    "app-server01:HTTP",
    "app-server02:HTTPS"
  ]
  
  # Interactive login access
  interactive_logins = [
    "jump-host:RDP",
    "bastion-host:SSH"
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_name` (String)

### Optional

- `account_mappings` (Set of String)
- `accounts` (Set of String)
- `description` (String)
- `interactive_logins` (Set of String)

### Read-Only

- `id` (String) The ID of this resource.

## Usage Notes

### Cluster Types

At least one of the following must be specified:

- **accounts**: Specific account/domain combinations
- **account_mappings**: Mapped account access
- **interactive_logins**: Direct interactive access

### Target Formats

**Accounts Format:**

```text
account@domain:device:service
```

Example: `admin@corp.local:web01:SSH`

**Account Mappings Format:**

```text
device:service
```

Example: `web01:HTTP`

**Interactive Logins Format:**

```text
device:service
```

Example: `web01:RDP`

### Service Types

Common service types:

- **SSH**: Secure Shell access
- **RDP**: Remote Desktop Protocol
- **HTTP/HTTPS**: Web application access
- **TELNET**: Telnet access
- **VNC**: VNC remote desktop
- **Custom**: Application-specific services

### Usage in Applications

Clusters can be referenced in applications:

```terraform
resource "wallix-bastion_application" "web_app" {
  application_name  = "web-application"
  connection_policy = "HTTP"
  target           = wallix-bastion_cluster.web_cluster.cluster_name
  
  paths {
    target      = "Interactive@${wallix-bastion_cluster.web_cluster.cluster_name}:HTTP"
    program     = "/opt/webapp/start.sh"
    working_dir = "/opt/webapp"
  }
}
```

### Authorization Integration

Use clusters in target groups and authorizations:

```terraform
resource "wallix-bastion_targetgroup" "web_targets" {
  group_name = "web-targets"
  
  session_accounts {
    account     = "admin"
    domain      = "corp.local"
    domain_type = "global"
    device      = wallix-bastion_cluster.web_cluster.cluster_name
    service     = "SSH"
  }
}
```

### Best Practices

1. **Naming**: Use descriptive cluster names that reflect their purpose
2. **Grouping**: Group similar servers/applications logically
3. **Security**: Don't mix different security zones in the same cluster
4. **Documentation**: Use clear descriptions to explain cluster purpose
5. **Maintenance**: Regularly review and update cluster membership

### Load Balancing

Clusters provide automatic load balancing:

- Sessions distribute across available targets
- Failed targets are automatically bypassed
- Health checks ensure target availability

## Import

Cluster can be imported using an id made up of `<cluster_name>`, e.g.

```shell
terraform import wallix-bastion_cluster.web_cluster web-servers
```

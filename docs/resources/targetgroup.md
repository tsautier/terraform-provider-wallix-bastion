---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "wallix-bastion_targetgroup Resource - terraform-provider-wallix-bastion"
subcategory: ""
description: |-
    
---

# wallix-bastion_targetgroup (Resource)

Provides a targetgroup resource.

## Example Usage

```terraform
# Configure a basic target group with session accounts
resource "wallix-bastion_targetgroup" "web_servers" {
  group_name = "web-servers"
  description = "Production web servers"
  
  session_accounts {
    account     = "admin"
    domain      = "example.com"
    domain_type = "global"
    device      = "web01"
    service     = "SSH"
  }
  
  session_accounts {
    account     = "root"
    domain      = "local"
    domain_type = "local"
    device      = "web02"
    service     = "SSH"
  }
}

# Configure target group with password retrieval accounts
resource "wallix-bastion_targetgroup" "service_accounts" {
  group_name = "service-accounts"
  description = "Service accounts for password checkout"
  
  password_retrieval_accounts {
    account     = "service-user"
    domain      = "corp.local"
    domain_type = "global"
    device      = "app-server"
  }
}

# Configure target group with interactive logins
resource "wallix-bastion_targetgroup" "jump_hosts" {
  group_name = "jump-hosts"
  description = "Jump host servers with interactive login"
  
  session_interactive_logins {
    device  = "jump01"
    service = "RDP"
  }
  
  session_interactive_logins {
    application = "web-app"
  }
}

# Configure target group with restrictions
resource "wallix-bastion_targetgroup" "restricted_access" {
  group_name = "restricted-servers"
  description = "Servers with access restrictions"
  
  session_accounts {
    account     = "operator"
    domain      = "local"
    domain_type = "local"
    device      = "prod-db"
    service     = "SSH"
  }
  
  restrictions {
    action      = "kill"
    rules       = "rm|delete|drop"
    subprotocol = "SSH_SHELL_SESSION"
  }
  
  restrictions {
    action      = "notify"
    rules       = "sudo|su"
    subprotocol = "SSH_SHELL_SESSION"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `group_name` (String)

### Optional

- `description` (String)
- `password_retrieval_accounts` (Block Set) (see [below for nested schema](#nestedblock--password_retrieval_accounts))
- `restrictions` (Block Set) (see [below for nested schema](#nestedblock--restrictions))
- `session_account_mappings` (Block Set) (see [below for nested schema](#nestedblock--session_account_mappings))
- `session_accounts` (Block Set) (see [below for nested schema](#nestedblock--session_accounts))
- `session_interactive_logins` (Block Set) (see [below for nested schema](#nestedblock--session_interactive_logins))
- `session_scenario_accounts` (Block Set) (see [below for nested schema](#nestedblock--session_scenario_accounts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--password_retrieval_accounts"></a>

### Nested Schema for `password_retrieval_accounts`

Required:

- `account` (String)
- `domain` (String)
- `domain_type` (String)

Optional:

- `application` (String)
- `device` (String)

<a id="nestedblock--restrictions"></a>

### Nested Schema for `restrictions`

Required:

- `action` (String)
- `rules` (String)
- `subprotocol` (String)

<a id="nestedblock--session_account_mappings"></a>

### Nested Schema for `session_account_mappings`

Optional:

- `application` (String)
- `device` (String)
- `service` (String)

<a id="nestedblock--session_accounts"></a>

### Nested Schema for `session_accounts`

Required:

- `account` (String)
- `domain` (String)
- `domain_type` (String)

Optional:

- `application` (String)
- `device` (String)
- `service` (String)

<a id="nestedblock--session_interactive_logins"></a>

### Nested Schema for `session_interactive_logins`

Optional:

- `application` (String)
- `device` (String)
- `service` (String)

<a id="nestedblock--session_scenario_accounts"></a>

### Nested Schema for `session_scenario_accounts`

Required:

- `account` (String)
- `domain` (String)
- `domain_type` (String)

Optional:

- `application` (String)
- `device` (String)

## Usage Notes

### Account Types

Configure different types of accounts based on your access needs:

- **session_accounts**: For interactive sessions through the bastion
- **password_retrieval_accounts**: For password checkout/checkin operations
- **session_account_mappings**: For mapped account access
- **session_interactive_logins**: For direct interactive access
- **session_scenario_accounts**: For automated scenario execution

### Domain Types

Specify the correct domain type:

- **local**: Device-specific local domains
- **global**: Global domains shared across devices

### Account Format

For accounts, specify:

- **account**: The account name on the target
- **domain**: The domain name containing the account
- **domain_type**: Either "local" or "global"
- **device**: Device name (for device accounts)
- **service**: Service name (for device services)
- **application**: Application name (for application accounts)

### Restrictions

Apply security restrictions to limit dangerous operations:

- **action**: Either "kill" (terminate session) or "notify" (alert only)
- **rules**: Regular expression pattern to match commands
- **subprotocol**: The protocol to monitor (SSH_SHELL_SESSION, RDP, etc.)

## Import

Targetgroup can be imported using an id made up of `<group_name>`, e.g.

```shell
terraform import wallix-bastion_targetgroup.web_servers web-servers
```

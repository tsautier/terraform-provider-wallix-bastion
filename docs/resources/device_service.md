---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "wallix-bastion_device_service Resource - terraform-provider-wallix-bastion"
subcategory: ""
description: |-
    
---

# wallix-bastion_device_service (Resource)

Provides a service resource linked to device.

## Example Usage

```terraform
# Configure SSH service
resource "wallix-bastion_device_service" "ssh" {
  device_id         = wallix-bastion_device.server1.id
  service_name      = "SSH"
  connection_policy = "SSH"
  port              = 22
  protocol          = "SSH"
  subprotocols = [
    "SSH_SHELL_SESSION",
    "SSH_SCP_UP",
    "SSH_SCP_DOWN"
  ]
}

# Configure RDP service
resource "wallix-bastion_device_service" "rdp" {
  device_id         = wallix-bastion_device.windows_server.id
  service_name      = "RDP"
  connection_policy = "RDP"
  port              = 3389
  protocol          = "RDP"
  subprotocols = [
    "RDP_CLIPBOARD_UP",
    "RDP_CLIPBOARD_DOWN",
    "RDP_DRIVE"
  ]
}

# Configure custom service with global domains
resource "wallix-bastion_device_service" "custom_app" {
  device_id         = wallix-bastion_device.app_server.id
  service_name      = "CustomApp"
  connection_policy = "RAWTCPIP"
  port              = 8080
  protocol          = "RAWTCPIP"
  global_domains    = ["corp.local", "dev.local"]
}

# Configure Telnet service
resource "wallix-bastion_device_service" "telnet" {
  device_id         = wallix-bastion_device.legacy_device.id
  service_name      = "TELNET"
  connection_policy = "TELNET"
  port              = 23
  protocol          = "TELNET"
}

# Configure VNC service
resource "wallix-bastion_device_service" "vnc" {
  device_id         = wallix-bastion_device.workstation.id
  service_name      = "VNC"
  connection_policy = "VNC"
  port              = 5900
  protocol          = "VNC"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `connection_policy` (String)
- `device_id` (String)
- `port` (Number)
- `protocol` (String)
- `service_name` (String)

### Optional

- `global_domains` (Set of String)
- `subprotocols` (Set of String)

### Read-Only

- `id` (String) The ID of this resource.

## Usage Notes

### Service Naming

- `service_name`: Must follow naming conventions (alphanumeric and limited special characters)
- Invalid characters will cause API errors
- Use descriptive names that identify the service purpose

### Supported Protocols

- **SSH**: Secure Shell protocol
- **RDP**: Remote Desktop Protocol
- **RAWTCPIP**: Raw TCP/IP connections
- **TELNET**: Telnet protocol
- **RLOGIN**: Remote login protocol
- **VNC**: Virtual Network Computing

### Port Configuration

- Standard ports: SSH (22), RDP (3389), Telnet (23), VNC (5900)
- Custom ports: Any valid port number (1-65535)
- Ensure firewall rules allow bastion access to the specified port

### Subprotocols

Configure allowed subprotocols based on protocol:

**SSH subprotocols:**

- `SSH_SHELL_SESSION`: Interactive shell access
- `SSH_REMOTE_COMMAND`: Execute remote commands
- `SSH_SCP_UP`: Upload files via SCP
- `SSH_SCP_DOWN`: Download files via SCP
- `SSH_X11`: X11 forwarding
- `SSH_DIRECT_TCPIP`: Direct TCP/IP tunneling
- `SSH_REVERSE_TCPIP`: Reverse TCP/IP tunneling
- `SSH_AUTH_AGENT`: SSH agent forwarding

**RDP subprotocols:**

- `RDP_CLIPBOARD_UP`: Upload to clipboard
- `RDP_CLIPBOARD_DOWN`: Download from clipboard
- `RDP_PRINTER`: Printer redirection
- `RDP_COM_PORT`: COM port redirection
- `RDP_DRIVE`: Drive redirection
- `RDP_SMARTCARD`: Smart card redirection
- `RDP_CLIPBOARD_FILE`: File clipboard operations
- `RDP_AUDIO_OUTPUT`: Audio redirection
- `RDP`: Basic RDP access

**Other protocols:**

- `SFTP_SESSION`: SFTP file transfer
- `TELNET`: Telnet access
- `RLOGIN`: Remote login access
- `RAWTCPIP`: Raw TCP connections
- `VNC`: VNC remote desktop

### Global Domains

- `global_domains`: Optional list of global domains that can access this service
- When not specified, it becomes a read-only attribute
- Controls which domain accounts can connect to this service

### Connection Policies

Reference existing connection policies that define:

- Authentication methods
- Protocol-specific options
- Security settings
- Session recording options

## Import

Service linked to device can be imported using an id made up of `<device_id>/<service_name>`, e.g.

```shell
terraform import wallix-bastion_device_service.ssh xxxxxxxx/SSH
```

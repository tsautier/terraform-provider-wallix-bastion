---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "{{ .Name }} {{ .Type }} - {{ .ProviderName }}"
subcategory: ""
description: |-
  {{ .Description | plainmarkdown | trimspace | prefixlines "  " }}
---

# {{ .Name }} ({{ .Type | title }})

Provides a connection_policy resource.

## Example Usage

```terraform
# Configure SSH connection policy
resource "wallix-bastion_connection_policy" "ssh_policy" {
  connection_policy_name = "SSH_Standard"
  protocol               = "SSH"
  description            = "Standard SSH connection policy"
  
  authentication_methods = [
    "password",
    "public_key"
  ]
  
  options = jsonencode({
    general = {
      allow_x11_forwarding    = true
      allow_agent_forwarding  = false
      max_session_duration    = 7200
    }
    ssh = {
      compression = true
      encryption  = ["aes256-ctr", "aes192-ctr", "aes128-ctr"]
    }
  })
}

# Configure RDP connection policy
resource "wallix-bastion_connection_policy" "rdp_policy" {
  connection_policy_name = "RDP_Secure"
  protocol               = "RDP"
  description            = "Secure RDP connection policy"
  
  authentication_methods = [
    "password",
    "ntlm"
  ]
  
  options = jsonencode({
    general = {
      session_timeout         = 3600
      idle_timeout           = 900
      record_session         = true
    }
    rdp = {
      color_depth            = 24
      disable_clipboard      = false
      disable_drive_redirect = true
      disable_printer        = true
    }
  })
}

# Configure jumphost RDP policy
resource "wallix-bastion_connection_policy" "rdp_jumphost" {
  connection_policy_name = "RDP_Jumphost"
  protocol               = "RDP"
  type                   = "RDP-JUMPHOST"
  description            = "RDP policy for jumphost applications"
  
  options = jsonencode({
    general = {
      session_recording = true
    }
    jumphost = {
      browser_isolation = true
      file_download     = false
    }
  })
}

# Configure RAWTCPIP policy
resource "wallix-bastion_connection_policy" "tcp_policy" {
  connection_policy_name = "TCP_Standard"
  protocol               = "RAWTCPIP"
  description            = "Raw TCP/IP connection policy"
  
  options = jsonencode({
    general = {
      connection_timeout = 30
      idle_timeout      = 1800
    }
  })
}

# Configure VNC policy
resource "wallix-bastion_connection_policy" "vnc_policy" {
  connection_policy_name = "VNC_Standard"
  protocol               = "VNC"
  description            = "VNC connection policy"
  
  authentication_methods = [
    "password"
  ]
  
  options = jsonencode({
    general = {
      record_session = true
    }
    vnc = {
      color_depth   = 16
      view_only     = false
      shared_access = false
    }
  })
}

# Configure Telnet policy
resource "wallix-bastion_connection_policy" "telnet_policy" {
  connection_policy_name = "TELNET_Legacy"
  protocol               = "TELNET"
  description            = "Legacy Telnet connection policy"
  
  options = jsonencode({
    general = {
      echo_mode = true
      charset   = "UTF-8"
    }
  })
}
```

{{ .SchemaMarkdown | trimspace }}

## Usage Notes

### Supported Protocols

- **SSH**: Secure Shell connections
- **RDP**: Remote Desktop Protocol
- **RAWTCPIP**: Raw TCP/IP connections
- **TELNET**: Telnet protocol
- **RLOGIN**: Remote login protocol
- **VNC**: Virtual Network Computing

### Policy Types

- **SSH**: Standard SSH connections
- **RDP**: Standard RDP connections
- **RDP-JUMPHOST**: RDP connections for jumphost applications
- **RAWTCPIP**: Raw TCP connections
- **TELNET**: Telnet connections
- **RLOGIN**: Remote login connections
- **VNC**: VNC connections

The `type` field defaults to the `protocol` value but can be set to specific variants like "RDP-JUMPHOST".

### Authentication Methods

Configure allowed authentication methods based on protocol:

**SSH:**

- `password`: Username/password authentication
- `public_key`: SSH public key authentication
- `keyboard_interactive`: Interactive authentication
- `gssapi`: GSSAPI authentication

**RDP:**

- `password`: Username/password authentication
- `ntlm`: NTLM authentication
- `kerberos`: Kerberos authentication

**Other protocols:**

- `password`: Username/password (most protocols)

### Options Configuration

The `options` field accepts a JSON object with protocol-specific settings:

**SSH Options:**
```json
{
  "general": {
    "allow_x11_forwarding": true,
    "allow_agent_forwarding": false,
    "max_session_duration": 7200,
    "session_recording": true
  },
  "ssh": {
    "compression": true,
    "encryption": ["aes256-ctr", "aes192-ctr"],
    "mac": ["hmac-sha2-256", "hmac-sha2-512"]
  }
}
```

**RDP Options:**
```json
{
  "general": {
    "session_timeout": 3600,
    "idle_timeout": 900,
    "record_session": true
  },
  "rdp": {
    "color_depth": 24,
    "disable_clipboard": false,
    "disable_drive_redirect": true,
    "disable_printer": true,
    "audio_redirect": false
  }
}
```

**VNC Options:**
```json
{
  "general": {
    "record_session": true
  },
  "vnc": {
    "color_depth": 16,
    "view_only": false,
    "shared_access": false
  }
}
```

### Common General Options

- `session_timeout`: Maximum session duration (seconds)
- `idle_timeout`: Idle timeout before disconnection (seconds)
- `record_session`: Enable session recording
- `connection_timeout`: Connection establishment timeout

## Import

Connection policy can be imported using an id made up of `<connection_policy_name>`, e.g.

```shell
terraform import wallix-bastion_connection_policy.ssh_policy SSH_Standard
```
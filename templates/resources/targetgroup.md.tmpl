---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "{{ .Name }} {{ .Type }} - {{ .ProviderName }}"
subcategory: ""
description: |-
  {{ .Description | plainmarkdown | trimspace | prefixlines "  " }}
---

# {{ .Name }} ({{ .Type | title }})

Provides a targetgroup resource.

## Example Usage

```terraform
# Configure a basic target group with session accounts
resource "wallix-bastion_targetgroup" "web_servers" {
  group_name = "web-servers"
  description = "Production web servers"
  
  session_accounts {
    account     = "admin"
    domain      = "example.com"
    domain_type = "global"
    device      = "web01"
    service     = "SSH"
  }
  
  session_accounts {
    account     = "root"
    domain      = "local"
    domain_type = "local"
    device      = "web02"
    service     = "SSH"
  }
}

# Configure target group with password retrieval accounts
resource "wallix-bastion_targetgroup" "service_accounts" {
  group_name = "service-accounts"
  description = "Service accounts for password checkout"
  
  password_retrieval_accounts {
    account     = "service-user"
    domain      = "corp.local"
    domain_type = "global"
    device      = "app-server"
  }
}

# Configure target group with interactive logins
resource "wallix-bastion_targetgroup" "jump_hosts" {
  group_name = "jump-hosts"
  description = "Jump host servers with interactive login"
  
  session_interactive_logins {
    device  = "jump01"
    service = "RDP"
  }
  
  session_interactive_logins {
    application = "web-app"
  }
}

# Configure target group with restrictions
resource "wallix-bastion_targetgroup" "restricted_access" {
  group_name = "restricted-servers"
  description = "Servers with access restrictions"
  
  session_accounts {
    account     = "operator"
    domain      = "local"
    domain_type = "local"
    device      = "prod-db"
    service     = "SSH"
  }
  
  restrictions {
    action      = "kill"
    rules       = "rm|delete|drop"
    subprotocol = "SSH_SHELL_SESSION"
  }
  
  restrictions {
    action      = "notify"
    rules       = "sudo|su"
    subprotocol = "SSH_SHELL_SESSION"
  }
}
```

{{ .SchemaMarkdown | trimspace }}

## Usage Notes

### Account Types

Configure different types of accounts based on your access needs:

- **session_accounts**: For interactive sessions through the bastion
- **password_retrieval_accounts**: For password checkout/checkin operations
- **session_account_mappings**: For mapped account access
- **session_interactive_logins**: For direct interactive access
- **session_scenario_accounts**: For automated scenario execution

### Domain Types

Specify the correct domain type:
- **local**: Device-specific local domains
- **global**: Global domains shared across devices

### Account Format

For accounts, specify:
- **account**: The account name on the target
- **domain**: The domain name containing the account
- **domain_type**: Either "local" or "global"
- **device**: Device name (for device accounts)
- **service**: Service name (for device services)
- **application**: Application name (for application accounts)

### Restrictions

Apply security restrictions to limit dangerous operations:
- **action**: Either "kill" (terminate session) or "notify" (alert only)
- **rules**: Regular expression pattern to match commands
- **subprotocol**: The protocol to monitor (SSH_SHELL_SESSION, RDP, etc.)

## Import

Targetgroup can be imported using an id made up of `<group_name>`, e.g.

```shell
terraform import wallix-bastion_targetgroup.web_servers web-servers
```